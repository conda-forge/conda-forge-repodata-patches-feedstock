if:
  name: py-opencv
  version: 4.10.0
  build_number_in: [0, 500, 600]
  timestamp_lt: 1718160989000

then:
  - replace_depends:
      old: numpy >=2.0.0rc.2,<3.0a0
      new: numpy >=1.19.0,<3.0a0

---

if:
  name: libopencv
  version_le: 4.12.0
  timestamp_lt: 1755656470000
then:
  # For some reason imath was not caught in the package inspector
  # and thus missed as a run_export
  # in the older builds of libopencv
  # https://github.com/conda-forge/opencv-feedstock/issues/486
  - add_constrains: imath<3.2.0a0

---

# hmaarrfk - 2025/11/30
# Remove the dependency on libgettextpo, and libglib
# https://github.com/conda-forge/opencv-feedstock/pull/498
# It is likely that we can backport this beyond 4.12.0
# But i'm too worried of unforseen consequences
if:
  name: libopencv
  version: 4.12.0
  timestamp_lt: 1764535383000
then:
  - remove_depends: libgettextpo?( *)
  - remove_depends: libglib?( *)
