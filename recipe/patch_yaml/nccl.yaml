# from this code
# if (
#     record_name == "nccl"
#     and 1681282800000 < record.get("timestamp", 0) < 1686034800000
# ):
#     deps = record.get("depends", [])
#     for i in range(len(deps)):
#         dep = deps[i]
#         if dep.startswith("cudatoolkit"):
#             spec = dep[11:]
#             dep = f"__cuda{spec}"
#         deps[i] = dep
if:
  name: nccl
  timestamp_gt: 1681282800000
  timestamp_lt: 1686034800000
then:
  - rename_depends:
      old: cudatoolkit
      new: __cuda
---
if:
  name: nccl
  timestamp_lt: 1763145917000
  version_ge: "2.26.6.1"
  version_lt: "2.28.3.1"
then:
  - replace_depends:
      old: cuda-version >=12,<13.0a0
      new: cuda-version >=12.2a0,<13.a0
---
if:
  name: nccl
  timestamp_lt: 1763145917000
  version_ge: "2.28.7.1"
  version_le: "2.28.9.1"
then:
  - replace_depends:
      old: cuda-version >=12.2a.0,<13.0a0
      new: cuda-version >=12a0,<13.0a0
